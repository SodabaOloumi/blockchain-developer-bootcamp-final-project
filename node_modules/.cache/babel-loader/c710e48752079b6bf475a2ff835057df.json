{"remainingRequest":"/home/sodaba/blockchain-developer-bootcamp-final-project/node_modules/babel-loader/lib/index.js!/home/sodaba/blockchain-developer-bootcamp-final-project/node_modules/eslint-loader/index.js??ref--14-0!/home/sodaba/blockchain-developer-bootcamp-final-project/src/index.js","dependencies":[{"path":"/home/sodaba/blockchain-developer-bootcamp-final-project/src/index.js","mtime":1638217050557},{"path":"/home/sodaba/blockchain-developer-bootcamp-final-project/babel.config.js","mtime":1638216927277},{"path":"/home/sodaba/blockchain-developer-bootcamp-final-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sodaba/blockchain-developer-bootcamp-final-project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sodaba/blockchain-developer-bootcamp-final-project/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NvZGFiYS9ibG9ja2NoYWluLWRldmVsb3Blci1ib290Y2FtcC1maW5hbC1wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgV2ViMyBmcm9tICJ3ZWIzIjsKaW1wb3J0IGhlYWx0Q29udHJhY3QgZnJvbSAiLi4vYnVpbGQvY29udHJhY3RzL0hlYWx0Lmpzb24iOwp2YXIgQXBwID0gewogIHdlYjM6IG51bGwsCiAgYWNjb3VudDogbnVsbCwKICBtZXRhOiBudWxsLAogIHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3N0YXJ0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgd2ViMywgbmV0d29ya0lkLCBkZXBsb3llZE5ldHdvcmssIGFjY291bnRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgd2ViMyA9IHRoaXMud2ViMzsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gd2ViMy5ldGgubmV0LmdldElkKCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgbmV0d29ya0lkID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkZXBsb3llZE5ldHdvcmsgPSBoZWFsdENvbnRyYWN0Lm5ldHdvcmtzW25ldHdvcmtJZF07CiAgICAgICAgICAgICAgdGhpcy5tZXRhID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGhlYWx0Q29udHJhY3QuYWJpLCBkZXBsb3llZE5ldHdvcmsuYWRkcmVzcyk7IC8vIGdldCBhY2NvdW50cwoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gd2ViMy5ldGguZ2V0QWNjb3VudHMoKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBhY2NvdW50cyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy5hY2NvdW50ID0gYWNjb3VudHNbMF07CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJDb3VsZCBub3QgY29ubmVjdCB0byBjb250cmFjdCBvciBjaGFpbi4iKTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMSwgMTNdXSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIHJldHVybiBfc3RhcnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gc3RhcnQ7CiAgfSgpLAogIHNldFN0YXR1czogZnVuY3Rpb24gc2V0U3RhdHVzKG1lc3NhZ2UpIHsKICAgIHZhciBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzIik7CiAgICBzdGF0dXMuaW5uZXJIVE1MID0gbWVzc2FnZTsKICB9LAogIGFkZFBhdGllbnQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfYWRkUGF0aWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX2FkZHJlc3MsIF9mdWxsTmFtZSkgewogICAgICB2YXIgYWRkUGF0aWVudDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhZGRQYXRpZW50ID0gdGhpcy5tZXRhLm1ldGhvZHMuYWRkUGF0aWVudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGFkZFBhdGllbnQoX2FkZHJlc3MsIF9mdWxsTmFtZSkuc2VuZCh7CiAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLmFjY291bnQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBhZGRQYXRpZW50KF94LCBfeDIpIHsKICAgICAgcmV0dXJuIF9hZGRQYXRpZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGFkZFBhdGllbnQ7CiAgfSgpLAogIGFkZERvY3RvcjogZnVuY3Rpb24gKCkgewogICAgdmFyIF9hZGREb2N0b3IgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKF9hZGRyZXNzLCBfZnVsbE5hbWUpIHsKICAgICAgdmFyIGFkZERvY3RvcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhZGREb2N0b3IgPSB0aGlzLm1ldGEubWV0aG9kcy5hZGREb2N0b3I7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBhZGREb2N0b3IoX2FkZHJlc3MsIF9mdWxsTmFtZSkuc2VuZCh7CiAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLmFjY291bnQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBhZGREb2N0b3IoX3gzLCBfeDQpIHsKICAgICAgcmV0dXJuIF9hZGREb2N0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gYWRkRG9jdG9yOwogIH0oKSwKICBhZGRSZWNvcmQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfYWRkUmVjb3JkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChfZnVsbE5hbWUsIF9wYXRpZW50QWRkcmVzcywgX2RvY3RvckFkZHJlc3MsIF9jYywgX3BpLCBfY29tbWVudCwgX21oLCBfcmVjb3JkTmFtZSwgX3JlY29yZElkKSB7CiAgICAgIHZhciBhZGRSZWNvcmQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYWRkUmVjb3JkID0gdGhpcy5tZXRhLm1ldGhvZHMuYWRkUmVjb3JkOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYWRkUmVjb3JkKF9mdWxsTmFtZSwgX3BhdGllbnRBZGRyZXNzLCBfZG9jdG9yQWRkcmVzcywgX2NjLCBfcGksIF9jb21tZW50LCBfbWgsIF9yZWNvcmROYW1lLCBfcmVjb3JkSWQpLnNlbmQoewogICAgICAgICAgICAgICAgZnJvbTogdGhpcy5hY2NvdW50CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gYWRkUmVjb3JkKF94NSwgX3g2LCBfeDcsIF94OCwgX3g5LCBfeDEwLCBfeDExLCBfeDEyLCBfeDEzKSB7CiAgICAgIHJldHVybiBfYWRkUmVjb3JkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGFkZFJlY29yZDsKICB9KCksCiAgZ2V0UmVjb3JkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2dldFJlY29yZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoX2FkZHJlc3MsIF9yZWNvcmROYW1lKSB7CiAgICAgIHZhciBnZXRSZWNvcmQsIHJlY29yZDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBnZXRSZWNvcmQgPSB0aGlzLm1ldGEubWV0aG9kcy5nZXRSZWNvcmQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBnZXRSZWNvcmQoX2FkZHJlc3MsIF9yZWNvcmROYW1lKS5jYWxsKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVjb3JkID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHJlY29yZCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gZ2V0UmVjb3JkKF94MTQsIF94MTUpIHsKICAgICAgcmV0dXJuIF9nZXRSZWNvcmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gZ2V0UmVjb3JkOwogIH0oKSwKICBncmFudFBlcm1pc3Npb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfZ3JhbnRQZXJtaXNzaW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihfcGF0aWVudEFkZHJlc3MsIF92aWV3bmVyLCBfcmVjb3JkTmFtZSkgewogICAgICB2YXIgZ3JhbnRQZXJtaXNzaW9uOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGdyYW50UGVybWlzc2lvbiA9IHRoaXMubWV0YS5tZXRob2RzLmdyYW50UGVybWlzc2lvbjsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGdyYW50UGVybWlzc2lvbihfcGF0aWVudEFkZHJlc3MsIF92aWV3bmVyLCBfcmVjb3JkTmFtZSkuc2VuZCh7CiAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLmFjY291bnQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBncmFudFBlcm1pc3Npb24oX3gxNiwgX3gxNywgX3gxOCkgewogICAgICByZXR1cm4gX2dyYW50UGVybWlzc2lvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBncmFudFBlcm1pc3Npb247CiAgfSgpLAogIHJldm9ya1Blcm1pc3Npb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmV2b3JrUGVybWlzc2lvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoX3BhdGllbnRBZGRyZXNzLCBfdmlld25lciwgX3JlY29yZE5hbWUpIHsKICAgICAgdmFyIHJldm9ya1Blcm1pc3Npb247CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV2b3JrUGVybWlzc2lvbiA9IHRoaXMubWV0YS5tZXRob2RzLnJldm9ya1Blcm1pc3Npb247CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZXZvcmtQZXJtaXNzaW9uKF9wYXRpZW50QWRkcmVzcywgX3ZpZXduZXIsIF9yZWNvcmROYW1lKS5zZW5kKHsKICAgICAgICAgICAgICAgIGZyb206IHRoaXMuYWNjb3VudAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIHJldm9ya1Blcm1pc3Npb24oX3gxOSwgX3gyMCwgX3gyMSkgewogICAgICByZXR1cm4gX3Jldm9ya1Blcm1pc3Npb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gcmV2b3JrUGVybWlzc2lvbjsKICB9KCksCiAgcmVjb3JkT2Y6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVjb3JkT2YgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KGFkZHJlc3MpIHsKICAgICAgdmFyIHJlY29yZE9mLCByZWNvcmQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmVjb3JkT2YgPSB0aGlzLm1ldGEubWV0aG9kcy5yZWNvcmRPZjsKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZE9mKGFkZHJlc3MpLmNhbGwoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZWNvcmQgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgcmVjb3JkKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU4LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiByZWNvcmRPZihfeDIyKSB7CiAgICAgIHJldHVybiBfcmVjb3JkT2YuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gcmVjb3JkT2Y7CiAgfSgpLAogIG93bmVyT2ZSZWNvcmQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfb3duZXJPZlJlY29yZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkocmVjb3JkSWQpIHsKICAgICAgdmFyIG93bmVyT2ZSZWNvcmQsIG93bmVyOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG93bmVyT2ZSZWNvcmQgPSB0aGlzLm1ldGEubWV0aG9kcy5vd25lck9mUmVjb3JkOwogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gb3duZXJPZlJlY29yZChyZWNvcmRJZCkuY2FsbCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIG93bmVyID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIG93bmVyKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU5LCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBvd25lck9mUmVjb3JkKF94MjMpIHsKICAgICAgcmV0dXJuIF9vd25lck9mUmVjb3JkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG93bmVyT2ZSZWNvcmQ7CiAgfSgpCn07CndpbmRvdy5BcHAgPSBBcHA7CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgIHdoaWxlICgxKSB7CiAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHsKICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gdXNlIE1ldGFNYXNrJ3MgcHJvdmlkZXIKICAgICAgICAgIEFwcC53ZWIzID0gbmV3IFdlYjMod2luZG93LmV0aGVyZXVtKTsKICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDQ7CiAgICAgICAgICByZXR1cm4gd2luZG93LmV0aGVyZXVtLmVuYWJsZSgpOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA4OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNvbnNvbGUud2FybigiTm8gd2ViMyBkZXRlY3RlZC4gRmFsbGluZyBiYWNrIHRvIGh0dHA6Ly8xNzIuMC4wLjE6NzU0NS4gWW91IHNob3VsZCByZW1vdmUgdGhpcyBmYWxsYmFjayB3aGVuIHlvdSBkZXBsb3kgbGl2ZSIpOyAvLyBmYWxsYmFjayAtIHVzZSB5b3VyIGZhbGxiYWNrIHN0cmF0ZWd5IChsb2NhbCBub2RlIC8gaG9zdGVkIG5vZGUgKyBpbi1kYXBwIGlkIG1nbXQgLyBmYWlsKQoKICAgICAgICAgIEFwcC53ZWIzID0gbmV3IFdlYjMobmV3IFdlYjMucHJvdmlkZXJzLkh0dHBQcm92aWRlcigiaHR0cDovLzE3Mi4wLjAuMSIpKTsKCiAgICAgICAgY2FzZSA4OgogICAgICAgICAgQXBwLnN0YXJ0KCk7CgogICAgICAgIGNhc2UgOToKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSwgX2NhbGxlZTEwKTsKfSkpKTsKZXhwb3J0IGRlZmF1bHQgewogIEFwcDogQXBwCn07"},{"version":3,"sources":["/home/sodaba/blockchain-developer-bootcamp-final-project/src/index.js"],"names":["Web3","healtContract","App","web3","account","meta","start","eth","net","getId","networkId","deployedNetwork","networks","Contract","abi","address","getAccounts","accounts","console","error","setStatus","message","status","document","getElementById","innerHTML","addPatient","_address","_fullName","methods","send","from","addDoctor","addRecord","_patientAddress","_doctorAddress","_cc","_pi","_comment","_mh","_recordName","_recordId","getRecord","call","record","grantPermission","_viewner","revorkPermission","recordOf","ownerOfRecord","recordId","owner","window","addEventListener","ethereum","enable","warn","providers","HttpProvider"],"mappings":"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","sourcesContent":["import Web3 from \"web3\";\nimport healtContract from \"../build/contracts/Healt.json\";\nconst App = {\n  web3: null,\n  account: null,\n  meta: null,\n\n  start: async function() {\n    const { web3 } = this;\n\n    try {\n      // get contract instance\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = healtContract.networks[networkId];\n      this.meta = new web3.eth.Contract(\n        healtContract.abi,\n        deployedNetwork.address\n      );\n\n      // get accounts\n      const accounts = await web3.eth.getAccounts();\n      this.account = accounts[0];\n    } catch (error) {\n      console.error(\"Could not connect to contract or chain.\");\n    }\n  },\n\n  setStatus: function(message) {\n    const status = document.getElementById(\"status\");\n    status.innerHTML = message;\n  },\n  addPatient: async function(_address, _fullName) {\n    const { addPatient } = this.meta.methods;\n    await addPatient(_address,  _fullName).send({\n      from: this.account\n    });\n  },\n  addDoctor: async function(_address, _fullName) {\n    const { addDoctor } = this.meta.methods;\n    await addDoctor(_address,  _fullName).send({\n      from: this.account\n    });\n  },\n  addRecord: async function( _fullName, _patientAddress , _doctorAddress ,\n    _cc , _pi , _comment , _mh, _recordName , _recordId) {\n    const { addRecord } = this.meta.methods;\n    await addRecord( _fullName, _patientAddress , _doctorAddress ,\n      _cc , _pi , _comment , _mh, _recordName , _recordId).send({\n      from: this.account\n    });\n  },\n  getRecord: async function getRecord( _address, _recordName) {\n    const { getRecord } = this.meta.methods;\n   let record= await getRecord( _address, _recordName).call();\n   return record;\n  },\n  grantPermission: async function grantPermission( _patientAddress, _viewner, _recordName  ) {\n    const { grantPermission } = this.meta.methods;\n    await grantPermission(_patientAddress, _viewner, _recordName ).send({\n      from: this.account\n    });\n  },\n  revorkPermission: async function revorkPermission( _patientAddress, _viewner, _recordName  ) {\n    const { revorkPermission } = this.meta.methods;\n    await revorkPermission(_patientAddress, _viewner, _recordName ).send({\n      from: this.account\n    });\n  },\n  recordOf: async function recordOf(address) {\n    const { recordOf } = this.meta.methods;\n   let record = await recordOf(address).call();\n   return record;\n  },\n  ownerOfRecord: async function ownerOfRecord(recordId) {\n    const { ownerOfRecord } = this.meta.methods;\n   let owner = await ownerOfRecord(recordId).call();\n   return owner;\n  },\n  \n \n};\n\nwindow.App = App;\n\nwindow.addEventListener(\"load\", async function() {\n  if (window.ethereum) {\n    // use MetaMask's provider\n    App.web3 = new Web3(window.ethereum);\n    await window.ethereum.enable(); // get permission to access accounts\n  } else {\n    console.warn(\n      \"No web3 detected. Falling back to http://172.0.0.1:7545. You should remove this fallback when you deploy live\"\n    );\n    // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)\n    App.web3 = new Web3(\n      new Web3.providers.HttpProvider(\"http://172.0.0.1\")\n    );\n  }\n\n  App.start();\n});\nexport default { App };\n"]}]}